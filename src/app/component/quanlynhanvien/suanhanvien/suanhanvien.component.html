<div class="modal fade show d-block" id="suaNhanVienModal" aria-labelledby="updAccountModalLabel" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="updAccountModalLabel">Sửa nhân viên</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="close()"></button>
            </div>
            <div class="modal-body">
                <form [formGroup]="form" (ngSubmit)="capNhatNhanVien()" novalidate>
                    <!-- Tên nhân viên -->
                    <div class="mb-3">
                        <label class="form-label">Tên nhân viên <span class="text-danger">*</span></label>
                        <input 
                            type="text"
                            class="form-control" 
                            [class.is-invalid]="isFieldInvalid('fullName')"
                            [class.is-valid]="isFieldValid('fullName')"
                            formControlName="fullName"
                            placeholder="Nhập tên nhân viên">
                        <div class="invalid-feedback" *ngIf="isFieldInvalid('fullName')">
                            <div *ngIf="form.get('fullName')?.errors?.['required']">Tên nhân viên không được để trống</div>
                            <div *ngIf="form.get('fullName')?.errors?.['minlength']">Tên nhân viên phải có ít nhất 2 ký tự</div>
                            <div *ngIf="form.get('fullName')?.errors?.['maxlength']">Tên nhân viên không được quá 50 ký tự</div>
                            <div *ngIf="form.get('fullName')?.errors?.['pattern']">Tên nhân viên chỉ được chứa chữ cái và khoảng trắng</div>
                        </div>
                    </div>

                    <!-- Giới tính -->
                    <div class="mb-3">
                        <label class="form-label">Giới tính <span class="text-danger">*</span></label>
                        <select 
                            class="form-select" 
                            [class.is-invalid]="isFieldInvalid('gender')"
                            [class.is-valid]="isFieldValid('gender')"
                            formControlName="gender" 
                            name="gender">
                            <option [ngValue]="null" disabled>-- Chọn giới tính --</option>
                            <option [ngValue]="0">Nam</option>
                            <option [ngValue]="1">Nữ</option>
                        </select>
                        <div class="invalid-feedback" *ngIf="isFieldInvalid('gender')">
                            <div *ngIf="form.get('gender')?.errors?.['required']">Vui lòng chọn giới tính</div>
                        </div>
                    </div>

                    <!-- Số điện thoại -->
                    <div class="mb-3">
                        <label class="form-label">Số điện thoại <span class="text-danger">*</span></label>
                        <input 
                            type="tel"
                            class="form-control" 
                            [class.is-invalid]="isFieldInvalid('phone')"
                            [class.is-valid]="isFieldValid('phone')"
                            formControlName="phone"
                            placeholder="Ví dụ: 0987654321">
                        <div class="invalid-feedback" *ngIf="isFieldInvalid('phone')">
                            <div *ngIf="form.get('phone')?.errors?.['required']">Số điện thoại không được để trống</div>
                            <div *ngIf="form.get('phone')?.errors?.['pattern']">Số điện thoại không hợp lệ (phải là số di động Việt Nam)</div>
                        </div>
                    </div>

                    <!-- Email -->
                    <div class="mb-3">
                        <label class="form-label">Email <span class="text-danger">*</span></label>
                        <input 
                            type="email"
                            class="form-control" 
                            [class.is-invalid]="isFieldInvalid('email')"
                            [class.is-valid]="isFieldValid('email')"
                            formControlName="email"
                            placeholder="example@email.com">
                        <div class="invalid-feedback" *ngIf="isFieldInvalid('email')">
                            <div *ngIf="form.get('email')?.errors?.['required']">Email không được để trống</div>
                            <div *ngIf="form.get('email')?.errors?.['email']">Email không đúng định dạng</div>
                            <div *ngIf="form.get('email')?.errors?.['maxlength']">Email không được quá 100 ký tự</div>
                        </div>
                    </div>

                    <!-- Chức vụ -->
                    <div class="mb-3">
                        <label class="form-label">Chức vụ <span class="text-danger">*</span></label>
                        <input 
                            type="text"
                            class="form-control" 
                            [class.is-invalid]="isFieldInvalid('position')"
                            [class.is-valid]="isFieldValid('position')"
                            formControlName="position"
                            placeholder="Ví dụ: Nhân viên bán hàng">
                        <div class="invalid-feedback" *ngIf="isFieldInvalid('position')">
                            <div *ngIf="form.get('position')?.errors?.['required']">Chức vụ không được để trống</div>
                            <div *ngIf="form.get('position')?.errors?.['minlength']">Chức vụ phải có ít nhất 2 ký tự</div>
                            <div *ngIf="form.get('position')?.errors?.['maxlength']">Chức vụ không được quá 30 ký tự</div>
                        </div>
                    </div>

                    <!-- Submit button -->
                    <button 
                        type="submit" 
                        class="btn btn-primary w-100"
                        [disabled]="form.invalid">
                        <i class="bi bi-check-circle"></i> Cập nhật
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
<div class="modal-backdrop fade show"></div>