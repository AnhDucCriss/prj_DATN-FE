<button type="button" class="btn btn-dark mb-3" data-bs-toggle="modal" data-bs-target="#addPatientModal">
  <i class="bi bi-plus-circle"></i> Tạo bệnh nhân
</button>

<div class="modal fade" id="addPatientModal" tabindex="-1" aria-labelledby="addPatientModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addPatientModalLabel">Thêm bệnh nhân</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="close()"></button>
      </div>
      <div class="modal-body">
      <form (ngSubmit)="addPatient()" #addPatientForm="ngForm">
        <div class="mb-3">
          <label for="fullName" class="form-label">Tên đầy đủ</label>
          <input
            type="text"
            class="form-control"
            id="fullName"
            name="fullName"
            placeholder="Nhập tên đầy đủ của bệnh nhân"
            required
            maxlength="100"
            [(ngModel)]="newPatient.fullName"
            #fullName="ngModel"
          />
          <div class="text-danger" *ngIf="fullName.invalid && fullName.touched">
            Tên đầy đủ là bắt buộc và tối đa 100 ký tự.
          </div>
        </div>

        <div class="mb-3">
          <label for="gender" class="form-label">Giới tính</label>
          <select
            id="gender"
            class="form-select"
            name="gender"
            required
            [(ngModel)]="newPatient.gender"
            #gender="ngModel"
          >
            <option [ngValue]="null" disabled>-- Chọn giới tính --</option>
            <option [ngValue]="0">Nam</option>
            <option [ngValue]="1">Nữ</option>
          </select>
          <div class="text-danger" *ngIf="gender.invalid && gender.touched">
            Vui lòng chọn giới tính.
          </div>
        </div>

        <div class="mb-3">
          <label for="age" class="form-label">Tuổi</label>
          <input
            type="number"
            class="form-control"
            id="age"
            name="age"
            placeholder="Nhập tuổi bệnh nhân (0 - 150)"
            required
            min="0"
            max="150"
            [(ngModel)]="newPatient.age"
            #age="ngModel"
          />
          <div class="text-danger" *ngIf="age.invalid && age.touched">
            Tuổi phải từ 0 đến 150.
          </div>
        </div>

        <div class="mb-3">
          <label for="phone" class="form-label">Số điện thoại</label>
          <input
            type="text"
            class="form-control"
            id="phone"
            name="phone"
            placeholder="Nhập số điện thoại (bắt đầu bằng 0, 10 số)"
            required
            pattern="^0\d{9}$"
            [(ngModel)]="newPatient.phone"
            #phone="ngModel"
          />
          <div class="text-danger" *ngIf="phone.invalid && phone.touched">
            Số điện thoại phải gồm 10 chữ số và bắt đầu bằng số 0.
          </div>
        </div>

        <div class="mb-3">
          <label for="address" class="form-label">Địa chỉ</label>
          <input
            type="text"
            class="form-control"
            id="address"
            name="address"
            placeholder="Nhập địa chỉ nơi cư trú"
            required
            maxlength="200"
            [(ngModel)]="newPatient.address"
            #address="ngModel"
          />
          <div class="text-danger" *ngIf="address.invalid && address.touched">
            Địa chỉ là bắt buộc và tối đa 200 ký tự.
          </div>
        </div>

        <div class="mb-3">
          <label for="email" class="form-label">Email</label>
          <input
            type="email"
            class="form-control"
            id="email"
            name="email"
            placeholder="Nhập địa chỉ email (ví dụ: ten@email.com)"
            required
            [(ngModel)]="newPatient.email"
            #email="ngModel"
          />
          <div class="text-danger" *ngIf="email.invalid && email.touched">
            Email không hợp lệ.
          </div>
        </div>

        <button type="submit" class="btn btn-info w-100" [disabled]="addPatientForm.invalid">
          Thêm bệnh nhân
        </button>
      </form>

      </div>
    </div>
  </div>
</div>
